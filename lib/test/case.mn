load test.suite

/*!
 * @class TestCase
 */
class TestCase {
	def new(self) {
		TestSuite.instance().register(self)
	}

	def run(self) {
		for member in membersof self {
			if member.startsWith('test') {
				print {'[ RUN      ] %s.%s\n' % (typeof self, member)}
				self.$(member)()
				if self.failuresCount {
					print {'[  FAILED  ] %s.%s\n' % (typeof self, member)}
					self.failedCount++;
				} else {
					print {'[       OK ] %s.%s\n' % (typeof self, member)}
				}
				self.failuresCount = 0
			}
		}
	}

	def expect(self, expr) {
		if not expr {
			/// @todo print failure info
			self.failuresCount++
		}
	}

	- failedCount = 0
	- failuresCount = 0
	// - @g_lib = lib('libmint-test')
}
