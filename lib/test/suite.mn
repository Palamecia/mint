package Test {

	/*!
	* @class Test.Suite
	*/
	class Suite {
		@def instance() {
			return Suite.g_instance
		}

		~def register(self, test_case) {
			self.cases += test_case
		}

		def run(self) {
			found = 0
			for test_case in self.cases {
				found += test_case.discover()
			}
			print {'[==========] Running %d tests from %d test cases.\n' % (found, self.cases.size())}
			for test_case in self.cases {
				test_case.run()
				print {'\n'}
			}
			print {'[==========] %d tests from %d test cases ran.\n' % (found, self.cases.size())}
		}

		- new
		- cases = []
		- @g_instance = none
	}

	def enable_test_case(test_case) {
		Suite.instance().register(test_case())
	}

	Suite.g_instance = Suite()
}
