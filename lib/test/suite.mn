package Test {

	/*!
	* @class Test.Suite
	*/
	class Suite {
		- def new(self) {
			return self
		}

		@def instance() {
			if Suite.g_instance is null {
				Suite.g_instance = Suite()
			}
			return Suite.g_instance
		}

		~def register(self, case) {
			self.cases += case
		}

		def run(self) {
			found = 0
			for case in self.cases {
				found += case.discover()
			}
			print {'[==========] Running %d tests from %d test cases.\n' % (found, self.cases.size())}
			for case in self.cases {
				case.run()
				print {'\n'}
			}
			print {'[==========] %d tests from %d test cases ran.\n' % (found, self.cases.size())}
		}

		- cases = []
		- @g_instance = null
	}

	def enable_test_case(case) {
		Suite.instance().register(case())
	}

}
